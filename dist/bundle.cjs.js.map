{"version":3,"file":"bundle.cjs.js","sources":["../src/index.js"],"sourcesContent":["import { merge } from 'lodash';\nimport Promise from 'bluebird';\n\nfunction lift(done) {\n  let self = this;\n  let senecaConnectionName = merge({}, self.config.seneca, (self.config.seneca || {}).client)\n    .connection;\n  let senecaConnection = self.config.connections[senecaConnectionName];\n  if (senecaConnectionName && !senecaConnection) {\n    throw new Error(`unknown seneca connection:${senecaConnectionName}`);\n  }\n\n  if (senecaConnection.transport) {\n    self.seneca.use(senecaConnection.transport);\n  }\n\n  self.seneca.client(senecaConnection.options);\n  process.nextTick(done);\n}\n\nexport default {\n  lift: Promise.promisify(lift),\n};\n"],"names":["lift","done","self","senecaConnectionName","merge","config","seneca","client","connection","senecaConnection","connections","Error","transport","use","options","nextTick","Promise","promisify"],"mappings":";;;;;;;AAGA,SAASA,IAAT,CAAcC,IAAd,EAAoB;MACdC,OAAO,IAAX;MACIC,uBAAuBC,aAAM,EAAN,EAAUF,KAAKG,MAAL,CAAYC,MAAtB,EAA8B,CAACJ,KAAKG,MAAL,CAAYC,MAAZ,IAAsB,EAAvB,EAA2BC,MAAzD,EACxBC,UADH;MAEIC,mBAAmBP,KAAKG,MAAL,CAAYK,WAAZ,CAAwBP,oBAAxB,CAAvB;;MACIA,wBAAwB,CAACM,gBAA7B,EAA+C;UACvC,IAAIE,KAAJ,CAAW,6BAA4BR,oBAAqB,EAA5D,CAAN;;;MAGEM,iBAAiBG,SAArB,EAAgC;SACzBN,MAAL,CAAYO,GAAZ,CAAgBJ,iBAAiBG,SAAjC;;;OAGGN,MAAL,CAAYC,MAAZ,CAAmBE,iBAAiBK,OAApC;UACQC,QAAR,CAAiBd,IAAjB;;;AAGF,YAAe;QACPe,QAAQC,SAAR,CAAkBjB,IAAlB;CADR;;;;"}